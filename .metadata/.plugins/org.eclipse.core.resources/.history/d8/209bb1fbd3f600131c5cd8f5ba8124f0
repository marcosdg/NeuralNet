package core;

import java.util.List;
import java.util.Random;

/*
 * Represents a collection of Layers.
 */

public class NeuralNetwork {
	
	private List<Layer> layers;
	

// Creation.


	public NeuralNetwork(List<Layer> layers) {
		this.layers = layers;
	}

	
// Processing.
	
	
	public void computeOutput() {
		
		for (Layer layer: this.layers) {
			layer.computeOutput();
		}
	}
	
	/* TODO
	public void learn(DataSet trainingSet){
		
	}*/
	

// Configuration.


	public List<Layer> getLayers() {
		return this.layers;
	}
	public void setLayers(List<Layer> layers) {
		this.layers = layers;
	}
	public int numberOfLayers() {
		return this.layers.size();
	}
	
	public boolean addLayer(Layer layer) {
		if (!this.layers.contains(layer)) {
			this.layers.add(layer);
			return true;
		}
		return false;
	}
	public boolean removeLayer(Layer layer) {
		if (this.layers.contains(layer)) {
			this.layers.remove(layer);
			return true;
		}
		
		return false;
	}
	
	public Layer getInitialLayer() {
		Layer result = null;

		for (int i = 0; i < this.layers.size(); i++) {
			if (this.layers.get(i).getLabel() == Layer.INIT_LAYER) {
				result = this.layers.get(i);
			}
		}
		return result;
	}
	public Layer getOutputLayer() {
		Layer result = null;

		for (int i = 0; i < this.layers.size(); i++) {
			if (this.layers.get(i).getLabel() == Layer.OUTPUT_LAYER) {
				result = this.layers.get(i);
			}
		}
		return result;
	}
	
	// Randomization.
	
	public void randomizeWeights(double min, double max, Random generator) {
		if (!this.layers.isEmpty()) {
			
			for (Layer layer: this.layers) {
				layer.randomizeWeights(min, max, generator);
			}
		}
	}
	
	
}
